<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <!DOCTYPE html>
  <html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8">
    <<!DOCTYPE html>
    <html lang="ar" dir="rtl">
    <head>
      <meta charset="UTF-8">
      <title>ğŸ“¦ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
      <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
      <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
      <style>
        body {
          background-color: #f0f4f8;
          font-family: 'Cairo', sans-serif;
        }
        .login-card {
          background: linear-gradient(145deg, #ffffff, #e3e3e3);
          max-width: 400px;
          margin: 30px auto;
          padding: 30px;
          border-radius: 15px;
          box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
          text-align: center;
          transition: 0.4s ease-in-out;
        }
        .login-card:hover {
          transform: scale(1.03) rotateX(1deg) rotateY(-2deg);
        }
        .btn-login {
          background: linear-gradient(135deg, #00c9ff, #92fe9d);
          border: none;
          color: white;
          padding: 10px 30px;
          border-radius: 50px;
          font-weight: bold;
          transition: 0.3s;
          box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        .btn-login:hover {
          transform: translateY(-3px);
          box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
        .card {
          transition: transform 0.4s ease, box-shadow 0.4s ease;
          border-radius: 20px;
          background: linear-gradient(145deg, #ffffff, #e6e6e6);
          box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        .card:hover {
          transform: scale(1.05) rotateX(3deg) rotateY(-3deg);
          box-shadow: 0 20px 35px rgba(0, 0, 0, 0.2);
        }
        .card-img-top {
          border-top-left-radius: 20px;
          border-top-right-radius: 20px;
          transition: transform 0.3s ease;
          height: 200px;
          object-fit: cover;
        }
        .form-control, .form-select {
          border-radius: 12px;
          box-shadow: inset 2px 2px 5px #d1d9e6, inset -3px -3px 7px #fff;
        }
        .form-control:focus, .form-select:focus {
          box-shadow: 0 0 0 4px rgba(0, 201, 255, 0.25);
          transform: scale(1.01);
        }
        .preview-img {
          width: 100px;
          height: 100px;
          object-fit: cover;
          margin: 5px;
          border-radius: 10px;
          border: 1px solid #ccc;
        }
      </style>
    </head>
    <body>
    
    <div class="container my-5">
      <h2 class="text-center mb-4 animate__animated animate__fadeInDown">ğŸ“’ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h2>
    
      <div id="loginSection" class="login-card animate__animated animate__fadeInUp">
        <h5 class="mb-3"><i class="bi bi-shield-lock"></i> Ø¯Ø®ÙˆÙ„ ÙƒÙ…Ø¯ÙŠØ±</h5>
        <input type="password" id="adminPassword" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" class="form-control mb-3" />
        <button class="btn btn-login w-100" onclick="login()">ğŸ” Ø¯Ø®ÙˆÙ„</button>
      </div>
    
      <div id="logoutSection" class="text-center mb-4 d-none">
        <button class="btn btn-danger" onclick="logout()">ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
      </div>
    
      <div class="text-center mb-4 d-none" id="addProductBtn">
        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#productModal">â• Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</button>
      </div>
    
      <div id="productsList" class="row gy-4"></div>
    </div>
    
    <!-- Ù…ÙˆØ¯Ø§Ù„ Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ -->
    <div class="modal fade" id="productModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content rounded-4 shadow">
          <div class="modal-header">
            <h5 class="modal-title">â• Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Ø¥ØºÙ„Ø§Ù‚"></button>
          </div>
          <div class="modal-body">
            <input type="text" id="prodName" class="form-control mb-2" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
            <input type="number" id="prodPrice" class="form-control mb-2" placeholder="Ø§Ù„Ø³Ø¹Ø±">
            <input type="file" id="prodImage" class="form-control mb-2" accept="image/*" multiple>
            <div id="imagePreview" class="d-flex flex-wrap mb-2"></div>
            <textarea id="prodDesc" class="form-control" placeholder="Ø§Ù„ÙˆØµÙ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"></textarea>
          </div>
          <div class="modal-footer">
            <button class="btn btn-success w-100" onclick="saveNewProduct()">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ù…Ù†ØªØ¬</button>
          </div>
        </div>
      </div>
    </div>
    
    <script>
      const container = document.getElementById("productsList");
      const addProductBtn = document.getElementById("addProductBtn");
      const loginSection = document.getElementById("loginSection");
      const logoutSection = document.getElementById("logoutSection");
      const prodImageInput = document.getElementById("prodImage");
      const imagePreview = document.getElementById("imagePreview");
      let products = JSON.parse(localStorage.getItem("products")) || [];
    
      function renderProducts() {
        container.innerHTML = "";
        if (products.length === 0) {
          container.innerHTML = "<p class='text-center'>ğŸš« Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹.</p>";
          return;
        }
    
        products.forEach((product, index) => {
          let img = product.images?.[0] || '';
          let imageTag = img
            ? `<img src="${img}" class="card-img-top" alt="${product.name}">`
            : `<div class="card-img-top d-flex align-items-center justify-content-center bg-light" style="height: 200px;">
                 <span class="text-muted">Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙˆØ±Ø©</span>
               </div>`;
    
          container.innerHTML += `
            <div class="col-md-4">
              <div class="card h-100 shadow-sm animate__animated animate__fadeInUp">
                ${imageTag}
                <div class="card-body text-center">
                  <h5 class="card-title">${product.name}</h5>
                  <p class="card-text">Ø§Ù„Ø³Ø¹Ø±: ${product.price} Ø¯ÙŠÙ†Ø§Ø±</p>
                  <p class="card-text text-muted">${product.description || "Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ"}</p>
                  <button class="btn btn-success btn-sm mb-2" onclick="addToCart(${index})">ğŸ›’ Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©</button><br>
                  <div id="adminActions-${index}" class="d-none">
                    <button class="btn btn-warning btn-sm mb-2" onclick="editProduct(${index})">âœï¸ ØªØ¹Ø¯ÙŠÙ„</button><br>
                    <button class="btn btn-danger btn-sm" onclick="deleteProduct(${index})">ğŸ—‘ï¸ Ø­Ø°Ù</button>
                  </div>
                </div>
              </div>
            </div>
          `;
        });
    
        if (localStorage.getItem("isAdmin") === "true") {
          products.forEach((_, index) => {
            document.getElementById(`adminActions-${index}`).classList.remove("d-none");
          });
        }
      }
    
      function saveNewProduct() {
        const name = document.getElementById("prodName").value;
        const price = document.getElementById("prodPrice").value;
        const description = document.getElementById("prodDesc").value;
        const files = prodImageInput.files;
    
        if (!name || !price || files.length === 0) {
          alert("â— Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©.");
          return;
        }
    
        const images = [];
        let loaded = 0;
        for (let file of files) {
          const reader = new FileReader();
          reader.onload = function(e) {
            images.push(e.target.result);
            loaded++;
            if (loaded === files.length) {
              products.push({ name, price, images, description });
              localStorage.setItem("products", JSON.stringify(products));
              renderProducts();
              document.querySelector(".modal.show .btn-close").click();
            }
          };
          reader.readAsDataURL(file);
        }
      }
    
      prodImageInput.addEventListener("change", function () {
        imagePreview.innerHTML = "";
        Array.from(prodImageInput.files).forEach(file => {
          const reader = new FileReader();
          reader.onload = function (e) {
            const img = document.createElement("img");
            img.src = e.target.result;
            img.className = "preview-img";
            imagePreview.appendChild(img);
          };
          reader.readAsDataURL(file);
        });
      });
    
      function addToCart(index) {
        const cart = JSON.parse(localStorage.getItem("cart")) || [];
        cart.push(products[index]);
        localStorage.setItem("cart", JSON.stringify(cart));
        alert("âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ù„Ù„Ø³Ù„Ø©!");
      }
    
      function deleteProduct(index) {
        if (confirm("âŒ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ØŸ")) {
          products.splice(index, 1);
          localStorage.setItem("products", JSON.stringify(products));
          renderProducts();
        }
      }
    
      function editProduct(index) {
        const product = products[index];
        const newName = prompt("Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬:", product.name);
        const newPrice = prompt("Ø§Ù„Ø³Ø¹Ø±:", product.price);
        const newDesc = prompt("Ø§Ù„ÙˆØµÙ:", product.description || "");
        if (newName && newPrice) {
          products[index] = { ...product, name: newName, price: newPrice, description: newDesc };
          localStorage.setItem("products", JSON.stringify(products));
          renderProducts();
        }
      }
    
      function login() {
        const password = document.getElementById("adminPassword").value;
        if (password === "123456") {
          localStorage.setItem("isAdmin", "true");
          loginSection.classList.add("d-none");
          logoutSection.classList.remove("d-none");
          addProductBtn.classList.remove("d-none");
          renderProducts();
        } else {
          alert("âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± ØºÙŠØ± ØµØ­ÙŠØ­Ø©");
        }
      }
    
      function logout() {
        localStorage.removeItem("isAdmin");
        loginSection.classList.remove("d-none");
        logoutSection.classList.add("d-none");
        addProductBtn.classList.add("d-none");
        renderProducts();
      }
    
      window.onload = function () {
        if (localStorage.getItem("isAdmin") === "true") {
          loginSection.classList.add("d-none");
          logoutSection.classList.remove("d-none");
          addProductBtn.classList.remove("d-none");
        }
        renderProducts();
      };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    </body>
    </html>
    